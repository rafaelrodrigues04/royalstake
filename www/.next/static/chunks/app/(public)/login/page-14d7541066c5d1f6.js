(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{5650:(e,t,s)=>{Promise.resolve().then(s.bind(s,8265)),Promise.resolve().then(s.bind(s,4752)),Promise.resolve().then(s.t.bind(s,7970,23))},8265:(e,t,s)=>{"use strict";s.d(t,{default:()=>f});var a=s(5155),n=s(5565),l=s(2115),r=s(7725),o=s.n(r);let i=e=>{let{iconBeforeTitle:t="",title:s,items:n,alignment:r="left"}=e,[i,c]=(0,l.useState)(!1),d=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=e=>{d.current&&!d.current.contains(e.target)&&c(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),(0,a.jsxs)("div",{className:"relative inline-block",ref:d,children:[(0,a.jsxs)("button",{onClick:()=>{c(e=>!e)},className:"flex justify-center items-center bg-transparent w-fit py-2 px-4 rounded-md text-gray-300 focus:outline-none hover:text-yellow-500 transition duration-300 ease-in-out",children:[""===t?"":(0,a.jsx)("i",{className:"mr-1 fas ".concat(t)}),s,(0,a.jsx)("i",{className:"ml-1 fas fa-angle-down",style:{transition:"transform 0.3s ease-in-out",transform:i?"rotate(180deg)":"rotate(0deg)"}})]}),(0,a.jsx)("div",{className:"absolute bg-slate-800 rounded-md min-w-[160px] z-[1] p-2 ".concat(o().dropdownContent," ").concat(i?o().show:""," \n          ").concat("right"===r?"right-0":"left-0"),children:n.map((e,t)=>(0,a.jsx)(l.Fragment,{children:(0,a.jsxs)("a",{href:e.href,className:"block px-4 py-2 cursor-pointer rounded-md hover:bg-slate-700 hover:text-yellow-500 transition duration-300 ease-in-out",onClick:e.onClick,children:[e.icon&&(0,a.jsx)("i",{className:"mr-1 fas ".concat(e.icon)}),e.label]})},t))})]})};s(7565);var c=s(1354),d=s(6046);let u=()=>{let[e,t]=(0,l.useState)(""),[s,a]=(0,l.useState)(null),n=(0,d.useRouter)(),r=async e=>{let s=await fetch("".concat("http://localhost:3333","/users/").concat(e),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),n=await s.json();return s.ok?(a(n.data),n.data):(t(n.error||"Failed to fetch user details"),!1)};return{validate:async()=>{let e=await fetch("".concat("http://localhost:3333","/sessions/refresh"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}),s=await e.json();return e.ok&&s.data.userId?await r(s.data.userId):("redirect"==s.action&&n.push("/"),t(s.error||"Invalid token or session expired"),!1)},error:e,userDetails:s}},x=()=>{let[e,t]=(0,l.useState)(null),{validate:s}=u();return(0,l.useEffect)(()=>{(async()=>{let e=await s();e&&t(e)})()},[]),{user:e,logout:async()=>{try{(await fetch("".concat("http://localhost:3333","/users/logout"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})).ok?t(null):console.error("Logout failed")}catch(e){console.error("Logout error:",e)}}}},f=()=>{let{user:e,logout:t}=x();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex justify-center bg-slate-900 min-h-16 w-full lg:px-4 px-0",children:(0,a.jsxs)("div",{className:"container max-w-screen-xl flex flex-col lg:flex-row items-center sm:justify-between divide-y divide-gray-300 lg:divide-y-0",children:[(0,a.jsxs)("div",{className:"flex lg:flex-[4] flex-col lg:flex-row items-center w-full lg:gap-8 divide-y divide-gray-300 lg:divide-y-0",children:[(0,a.jsx)("a",{href:"/",children:(0,a.jsx)(n.default,{src:"/images/logos/logo-extended.png",width:160,height:0,alt:"Logo Extended",className:"py-4"})}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-center py-2 lg:py-0 lg:justify-start gap-4 w-full",children:[(0,a.jsx)(i,{iconBeforeTitle:"fa-gamepad",title:"Games",items:[{icon:"fa-circle-xmark",label:"Roulette",href:"/roulette"},{icon:"fa-chart-line",label:"Crash",href:"/crash"},{icon:"fa-ring",label:"Coinflip",href:"/coinflip"}],alignment:"left"}),(0,a.jsxs)("div",{className:"flex justify-center items-center bg-transparent w-fit py-2 px-4 rounded-md text-gray-300 focus:outline-none hover:text-yellow-500 transition duration-300 ease-in-out",children:[(0,a.jsx)("i",{className:"mr-1 fas fa-diamond"}),(0,a.jsx)("a",{href:"/casino",children:"Casino"})]}),(0,a.jsxs)("div",{className:"flex justify-center items-center bg-transparent w-fit py-2 px-4 rounded-md text-gray-300 focus:outline-none hover:text-yellow-500 transition duration-300 ease-in-out",children:[(0,a.jsx)("i",{className:"mr-1 fas fa-football"}),(0,a.jsx)("a",{href:"/match-betting",children:"Match Betting"})]})]})]}),(0,a.jsx)("div",{className:"flex lg:flex-[1] justify-center lg:justify-end items-center gap-4 py-4 w-full",children:e?(0,a.jsxs)("div",{className:"flex md:flex-row flex-col justify-center items-center gap-2 text-yellow-500",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 bg-slate-950 rounded-md px-4 py-2 md:w-auto w-full",children:(0,a.jsx)("span",{className:"text-yellow-500",children:"â‚¬123.45"})}),(0,a.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 bg-slate-950 rounded-md px-4 py-2 md:w-auto w-full",children:(0,a.jsx)("span",{className:"text-gray-300 truncate",children:e.name})}),(0,a.jsx)(c.A,{onClick:t,className:"text-gray-300 hover:text-yellow-500 transition duration-300 ease-in-out hover:cursor-pointer",size:16})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{href:"/login",className:"flex justify-center items-center bg-transparent w-fit py-2 px-4 rounded-md text-gray-300 hover:text-yellow-500 transition duration-300 ease-in-out",children:"Log In"}),(0,a.jsx)("a",{href:"/signup",className:"flex justify-center items-center bg-yellow-500 w-fit py-2 px-4 rounded-md text-white shadow-md hover:bg-amber-500 transition duration-300 ease-in-out",children:"Register"})]})})]})})})}},4752:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var a=s(5155),n=s(2115),l=s(6046),r=s(5037);let o=()=>{let[e,t]=(0,n.useState)("");return{login:async(e,s)=>{let a=await fetch("".concat("http://localhost:3333","/users/login"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})}),n=await a.json();return!!a.ok&&!!n.accessToken||(t(n.error),!1)},error:e,clearError:()=>t("")}},i=()=>{let[e,t]=(0,n.useState)(""),[s,i]=(0,n.useState)(""),{login:c,error:d,clearError:u}=o(),x=(0,l.useRouter)();(0,n.useEffect)(()=>{let e=document.querySelector('input[type="email"]'),s=document.querySelector('input[type="password"]');t(e.value||""),i(s.value||"")},[]),(0,n.useEffect)(()=>{d&&r.Ay.error(d),u()},[d]);let f=async t=>{t.preventDefault(),console.log(e,s),await c(e,s)&&(r.Ay.success("Successfully logged in."),setTimeout(()=>{x.push("/roulette")},1500))};return(0,a.jsxs)("div",{className:"flex items-center justify-center w-full py-8",children:[(0,a.jsx)("div",{children:(0,a.jsx)(r.l$,{toastOptions:{style:{background:"rgb(30 41 59)",color:"rgb(209 213 219)",boxShadow:"0px 3px 16px rgba(10, 41, 48, 0.1)"}},position:"top-right",reverseOrder:!1})}),(0,a.jsxs)("div",{className:"w-full max-w-sm p-6 bg-slate-900 rounded-2xl shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center text-yellow-500 mb-4",children:"Log In"}),(0,a.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300",children:"Email"}),(0,a.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"johndoe@example.com",className:"bg-slate-950 w-full px-4 py-2 mt-1 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 transition duration-300 ease-in-out",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300",children:"Password"}),(0,a.jsx)("input",{type:"password",value:s,onChange:e=>i(e.target.value),placeholder:"\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7",className:"bg-slate-950 w-full px-4 py-2 mt-1 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 transition duration-300 ease-in-out",required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"w-full py-2 text-white bg-yellow-500 rounded-md hover:bg-amber-500 transition duration-300 ease-in-out",children:"Log In"})]}),(0,a.jsxs)("p",{className:"mt-4 text-sm text-center text-gray-300",children:["Don't have an account? ",(0,a.jsx)("a",{href:"#",className:"text-yellow-500 hover:underline",children:"Sign up"})]})]})]})}},7725:e=>{e.exports={dropdownContent:"Dropdown_dropdownContent__xerkR",show:"Dropdown_show__WnjdI",fadeUp:"Dropdown_fadeUp__iK3K_"}}},e=>{var t=t=>e(e.s=t);e.O(0,[292,559,889,37,441,517,358],()=>t(5650)),_N_E=e.O()}]);